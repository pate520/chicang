<!DOCTYPE html>
<html lang="zh-CN">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>合约持仓排名</title>
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css" rel="stylesheet">
    <!-- Select2 CSS -->
    <link href="https://cdn.jsdelivr.net/npm/select2@4.1.0-rc.0/dist/css/select2.min.css" rel="stylesheet" />
    <style>
        :root {
            --primary-color: #1890ff;
            --text-primary: #333;
            --border-color: #d9d9d9;
            --bg-body: #f0f2f5;
            --bg-white: #fff;
            --danger-color: #ff4d4f;
            --success-color: #52c41a;
        }

        * {
            box-sizing: border-box;
            margin: 0;
            padding: 0;
        }

        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, 'Helvetica Neue', Arial, sans-serif;
            font-size: 14px;
            color: var(--text-primary);
            background: var(--bg-body);
            padding: 24px;
        }

        .main-card {
            background: var(--bg-white);
            padding: 24px;
            border-radius: 4px;
        }

        /* 筛选区域 */
        .filter-section {
            margin-bottom: 24px;
        }

        .filter-row {
            display: flex;
            flex-wrap: wrap;
            gap: 16px;
            align-items: center;
            margin-bottom: 12px;
        }

        .filter-item {
            display: flex;
            align-items: center;
            gap: 8px;
        }

        .filter-label {
            font-weight: 500;
            white-space: nowrap;
            color: #333;
        }

        .filter-input,
        .filter-select {
            height: 32px;
            padding: 4px 11px;
            border: 1px solid var(--border-color);
            border-radius: 4px;
            font-size: 14px;
            min-width: 160px;
        }

        .filter-input:focus,
        .filter-select:focus {
            border-color: var(--primary-color);
            outline: none;
            box-shadow: 0 0 0 2px rgba(24, 144, 255, 0.2);
        }

        /* 带图标的输入框容器 */
        .input-icon-wrapper {
            position: relative;
            display: inline-flex;
            align-items: center;
        }

        .input-icon-wrapper i {
            position: absolute;
            left: 10px;
            color: #bfbfbf;
            font-size: 13px;
            pointer-events: none;
            z-index: 1;
        }

        .input-icon-wrapper input,
        .input-icon-wrapper select {
            padding-left: 30px;
            /* 为图标留出空间 */
        }

        .btn {
            height: 32px;
            padding: 0 15px;
            border-radius: 4px;
            cursor: pointer;
            display: inline-flex;
            align-items: center;
            gap: 6px;
            border: 1px solid transparent;
            font-size: 14px;
        }

        .btn-primary {
            background: var(--primary-color);
            color: #fff;
        }

        .btn-primary:hover {
            background: #40a9ff;
        }

        .btn-default {
            background: #fff;
            border-color: var(--border-color);
            color: #666;
        }

        .btn-default:hover {
            border-color: var(--primary-color);
            color: var(--primary-color);
        }

        .warning-text {
            color: var(--danger-color);
            font-size: 12px;
        }

        /* 统计区域 - 严格还原截图样式 */
        .stats-section {
            padding: 16px;
            background: #f8f9fa;
            /* 接近截图的浅灰背景 */
            margin-bottom: 24px;
        }

        .stats-header {
            display: flex;
            align-items: center;
            margin-bottom: 16px;
            font-size: 14px;
        }

        .stats-indicator {
            width: 4px;
            height: 16px;
            background: var(--primary-color);
            margin-right: 8px;
        }

        .stats-title-text {
            color: #333;
            font-weight: 500;
            margin-right: 8px;
        }

        .stats-warning {
            color: var(--danger-color);
            font-weight: 500;
        }

        .stat-rows {
            display: flex;
            flex-direction: column;
            gap: 12px;
            /* 行间距 */
        }

        .stat-row {
            display: flex;
            flex-wrap: wrap;
            gap: 40px;
            /* 每一项之间的间距 */
            font-size: 13px;
        }

        .stat-item {
            color: #666;
        }

        .stat-value {
            color: #1890ff;
            /* 截图中的蓝色数值 */
            margin-left: 4px;
        }

        /* 主表格 */
        .ranking-table {
            width: 100%;
            border-collapse: collapse;
            font-size: 13px;
        }

        .ranking-table th {
            background: #fafafa;
            padding: 12px 8px;
            text-align: center;
            /* 改为居中对齐 */
            font-weight: 500;
            border-bottom: 1px solid #e8e8e8;
            white-space: nowrap;
            position: sticky;
            top: 0;
            vertical-align: middle;
            /* 垂直居中 */
        }

        .ranking-table th.sortable {
            cursor: pointer;
            user-select: none;
        }

        .ranking-table th.sortable:hover {
            background: #f0f0f0;
        }

        .ranking-table th .sort-icon {
            color: #bfbfbf;
            margin-left: 4px;
            font-size: 10px;
        }

        .ranking-table th.sorted-asc .sort-icon,
        .ranking-table th.sorted-desc .sort-icon {
            color: var(--primary-color);
        }

        .ranking-table td {
            padding: 12px 8px;
            border-bottom: 1px solid #f0f0f0;
            vertical-align: middle;
            text-align: center;
            /* 内容也居中 */
        }

        .ranking-table tbody tr:hover>td {
            background: #fafafa;
        }

        .ranking-table .expand-btn {
            cursor: pointer;
            color: #999;
            transition: transform 0.2s;
        }

        .ranking-table .expand-btn.open {
            transform: rotate(90deg);
        }

        /* 用户行样式 */
        .user-row {
            background: #fff;
        }

        .user-row .uid {
            color: var(--primary-color);
            font-weight: 600;
        }

        .user-row .rank {
            font-weight: 700;
            color: #333;
        }

        /* 异常 UID 样式 */
        .uid-abnormal {
            color: var(--danger-color) !important;
            font-weight: 700 !important;
        }

        /* 复选框容器样式 */
        .filter-checkbox {
            display: flex;
            align-items: center;
            gap: 6px;
            cursor: pointer;
            user-select: none;
        }

        .filter-checkbox input[type="checkbox"] {
            width: 16px;
            height: 16px;
            cursor: pointer;
            accent-color: var(--primary-color);
        }

        .filter-checkbox-label {
            font-weight: 500;
            color: #333;
        }

        /* 展开详情区域 */
        .detail-row {
            display: none;
        }

        .detail-row.open {
            display: table-row;
        }

        .detail-row>td {
            padding: 0;
            background: #f9f9f9;
        }

        .detail-content {
            padding: 16px 16px 16px 48px;
        }

        .detail-section {
            margin-bottom: 16px;
        }

        .detail-section:last-child {
            margin-bottom: 0;
        }

        .detail-section-title {
            font-size: 13px;
            font-weight: 600;
            color: #666;
            margin-bottom: 8px;
            display: flex;
            align-items: center;
            gap: 6px;
        }

        .detail-section-title .badge {
            font-size: 11px;
            padding: 2px 6px;
            border-radius: 3px;
            font-weight: 500;
        }

        .detail-section-title .badge-open {
            background: #f6ffed;
            color: #52c41a;
        }

        .detail-section-title .badge-closed {
            background: #f5f5f5;
            color: #8c8c8c;
        }

        /* 明细表格 */
        .detail-table {
            width: 100%;
            border-collapse: collapse;
            font-size: 12px;
            background: #fff;
            border: 1px solid #e8e8e8;
            border-radius: 4px;
        }

        .detail-table th {
            background: #f5f5f5;
            padding: 8px;
            text-align: center;
            /* 改为居中 */
            font-weight: 500;
            border-bottom: 1px solid #e8e8e8;
        }

        .detail-table td {
            padding: 8px;
            border-bottom: 1px solid #f0f0f0;
            text-align: center;
            /* 改为居中 */
        }

        .detail-table tr:last-child td {
            border-bottom: none;
        }

        /* .detail-table .th-closed {
            background: #fff2f0;
            color: var(--danger-color);
        }

        .detail-table .text-closed {
            color: var(--danger-color);
            font-weight: 700;
        } */

        /* 徽章和颜色 */
        .badge {
            display: inline-block;
            padding: 2px 6px;
            border-radius: 3px;
            font-size: 11px;
            font-weight: 500;
        }

        .badge-long {
            background: #e6f7ff;
            color: #1890ff;
        }

        .badge-short {
            background: #fff1f0;
            color: #ff4d4f;
        }

        .val-pos {
            color: #52c41a;
            font-weight: 600;
        }

        .val-neg {
            color: #ff4d4f;
            font-weight: 600;
        }

        /* 无数据提示 */
        .no-data {
            text-align: center;
            padding: 20px;
            color: #999;
            font-size: 12px;
        }
    </style>
</head>

<body>
    <div class="main-card">
        <!-- 筛选区域 -->
        <div class="filter-section">
            <div class="filter-row">
                <div class="filter-item">
                    <span class="filter-label">币种板块</span>
                    <select id="marketSectionSelect" class="filter-select"
                        onchange="updateContractOptions(); filterTable()">
                        <option value="">全部板块</option>
                        <option value="mainstream">主流币</option>
                        <option value="innovation" selected>项目币</option>
                    </select>
                </div>
                <div class="filter-item">
                    <span class="filter-label">合约名称</span>
                    <select id="contractSelect" class="filter-select" onchange="filterTable()">
                        <!-- Options populated by JS -->
                    </select>
                </div>
                <div class="filter-item">
                    <span class="filter-label">用户UID</span>
                    <input type="text" class="filter-input" placeholder="输入用户UID">
                </div>
                <!-- JS for cascading logic -->
                <script>
                    const allContracts = [
                        { value: "BTC/USDT", section: "mainstream", label: "BTC/USDT" },
                        { value: "ETH/USDT", section: "mainstream", label: "ETH/USDT" },
                        { value: "SOL/USDT", section: "innovation", label: "SOL/USDT" },
                        { value: "DOGE/USDT", section: "innovation", label: "DOGE/USDT" },
                        { value: "PEPE/USDT", section: "innovation", label: "PEPE/USDT" }
                    ];

                    function updateContractOptions() {
                        const sectionSelect = document.getElementById('marketSectionSelect');
                        const contractSelect = document.getElementById('contractSelect');
                        const selectedSection = sectionSelect.value;
                        const currentContract = contractSelect.value;

                        // Clear current options
                        contractSelect.innerHTML = '';

                        // Always add empty placeholder option first (for Select2 placeholder)
                        const placeholderOption = document.createElement('option');
                        placeholderOption.value = '';
                        placeholderOption.innerText = '';
                        contractSelect.appendChild(placeholderOption);

                        // Show "All" option when a specific section is selected
                        if (selectedSection) {
                            const allOption = document.createElement('option');
                            allOption.value = 'all';
                            allOption.innerText = selectedSection === 'mainstream' ? '全部主流币' : '全部项目币';
                            contractSelect.appendChild(allOption);
                        }

                        // Filter and append options
                        const filtered = selectedSection
                            ? allContracts.filter(c => c.section === selectedSection)
                            : allContracts;

                        filtered.forEach(c => {
                            const option = document.createElement('option');
                            option.value = c.value;
                            option.innerText = c.label;
                            contractSelect.appendChild(option);
                        });

                        // Try to restore selection if valid
                        if (currentContract && (currentContract === 'all' || filtered.find(c => c.value === currentContract))) {
                            contractSelect.value = currentContract;
                        } else if (selectedSection) {
                            // Default to "All xx" when a section is selected
                            contractSelect.value = 'all';
                        }
                        // else: no section selected, keep placeholder

                        // Refresh Select2 display
                        if (typeof $ !== 'undefined' && $('#contractSelect').data('select2')) {
                            $('#contractSelect').trigger('change.select2');
                        }

                        // Apply filter immediately after updating options
                        filterTable();
                    }

                    // 异常 UID 列表（后续会从线上另一个表取值）
                    const ABNORMAL_UIDS = ['81072943'];

                    function filterTable() {
                        const section = document.getElementById('marketSectionSelect').value;
                        const contract = document.getElementById('contractSelect').value;
                        const abnormalOnly = document.getElementById('abnormalUidCheckbox')?.checked || false;
                        const rows = document.querySelectorAll('.ranking-table .user-row');
                        let rank = 1;

                        rows.forEach(row => {
                            const rowSection = row.getAttribute('data-section');
                            const rowContract = row.getAttribute('data-contract');
                            const uidCell = row.querySelector('.uid');
                            const uid = uidCell ? uidCell.innerText.trim() : '';
                            const detailRow = row.nextElementSibling;
                            const isAbnormal = ABNORMAL_UIDS.includes(uid);

                            // 为异常 UID 添加/移除红色样式
                            if (uidCell) {
                                if (isAbnormal) {
                                    uidCell.classList.add('uid-abnormal');
                                } else {
                                    uidCell.classList.remove('uid-abnormal');
                                }
                            }

                            let show = true;

                            // Filter by section
                            if (section && rowSection !== section) show = false;

                            // Filter by contract (skip if 'all' or empty)
                            if (contract && contract !== 'all' && rowContract !== contract) show = false;

                            // Filter by abnormal UID
                            if (abnormalOnly && !isAbnormal) show = false;

                            if (show) {
                                row.style.display = '';
                                row.querySelector('.rank').innerText = rank++;
                            } else {
                                row.style.display = 'none';
                                if (detailRow) {
                                    detailRow.style.display = 'none'; // Avoid detail row staying open if parent hidden
                                }
                            }
                        });
                    }

                    // 初始化异常 UID 样式
                    function initAbnormalUidStyles() {
                        document.querySelectorAll('.uid').forEach(uidCell => {
                            const uid = uidCell.innerText.trim();
                            if (ABNORMAL_UIDS.includes(uid)) {
                                uidCell.classList.add('uid-abnormal');
                            } else {
                                uidCell.classList.remove('uid-abnormal');
                            }
                        });
                    }

                    // Initialize on page load
                    window.addEventListener('DOMContentLoaded', function () {
                        updateContractOptions();
                        initAbnormalUidStyles();
                    });
                </script>
                <div class="filter-item">
                    <span class="filter-label">用户类型</span>
                    <select class="filter-select">
                        <option value="normal">普通用户</option>
                        <option value="internal">内部用户</option>
                        <option value="agent">代理用户</option>
                    </select>
                </div>
                <div class="filter-item">
                    <label class="filter-checkbox">
                        <input type="checkbox" id="abnormalUidCheckbox" onchange="filterTable()">
                        <span class="filter-checkbox-label">仅显示异常 UID</span>
                    </label>
                </div>
            </div>
            <div class="filter-row">
                <div class="filter-item">
                    <span class="filter-label">时间范围</span>
                    <!-- 1. 日期选择 -->
                    <div class="input-icon-wrapper">
                        <i class="far fa-calendar-alt"></i>
                        <input type="date" class="filter-input" style="width: 140px;">
                    </div>

                    <!-- 2. 开始时间选择 (每15分钟一档) -->
                    <div class="input-icon-wrapper">
                        <i class="far fa-clock"></i>
                        <select id="startTimeSelect" class="filter-select" style="width: 140px;">
                            <option value="" disabled selected>开始时间</option>
                            <!-- JS will populate options here -->
                        </select>
                    </div>

                    <span style="color: #999; margin: 0 4px;">至</span>

                    <!-- 3. 截止时间选择 (每15分钟一档) -->
                    <div class="input-icon-wrapper">
                        <i class="far fa-clock"></i>
                        <select id="endTimeSelect" class="filter-select" style="width: 140px;">
                            <option value="" disabled selected>截止时间</option>
                            <!-- JS will populate options here -->
                        </select>
                    </div>
                </div>
                <span class="warning-text">(*筛选范围内开仓、平仓或持仓中的记录，含起始时间不含结束时间)</span>
            </div>
            <div class="filter-row">
                <button class="btn btn-primary"><i class="fas fa-search"></i> 搜索</button>
                <button class="btn btn-default"><i class="fas fa-sync-alt"></i> 重置</button>
                <button class="btn btn-default"><i class="fas fa-download"></i> 导出</button>
            </div>
        </div>

        <!-- 统计区域 -->
        <div class="stats-section">
            <div class="stats-header">
                <div class="stats-indicator"></div>
                <span class="stats-title-text">合约级别（必须选择合约名称和用户类型）</span>
                <span class="stats-warning">(*查询快照时汇总数据仅为普通用户数据,仅支持快照范围查询条件)</span>
            </div>
            <div class="stat-rows">
                <!-- 第一行 -->
                <div class="stat-row">
                    <div class="stat-item">持有合约人数: <span class="stat-value">70</span></div>
                    <div class="stat-item">已购买合约人数: <span class="stat-value">86</span></div>
                    <div class="stat-item">合约开仓保证金总额: <span class="stat-value">101691.13</span></div>
                    <div class="stat-item">做多仓位价值总额: <span class="stat-value">2,905,177.00</span></div>
                    <div class="stat-item">做空仓位价值总额: <span class="stat-value">1,197,658.24</span></div>
                </div>
                <!-- 第二行 -->
                <div class="stat-row">
                    <div class="stat-item">合约未实现盈亏总额: <span class="stat-value">114808902.39</span></div>
                    <div class="stat-item">合约已实现盈亏总额: <span class="stat-value">-51349.39</span></div>
                    <div class="stat-item">持有此合约用户的总合约账户余额: <span class="stat-value">114910593.52</span></div>
                </div>
            </div>
        </div>


        <!-- 用户排名主表 -->
        <div style="overflow-x: auto;">
            <table class="ranking-table">
                <thead>
                    <tr>
                        <th style="width:30px;"></th>
                        <th>序号</th>
                        <th>用户UID</th>
                        <th>合约名称</th>
                        <th class="sortable">开仓保证金 <i class="fas fa-sort sort-icon"></i></th>
                        <th class="sortable sorted-desc">总仓位价值 <i class="fas fa-sort-down sort-icon"></i></th>
                        <th class="sortable">总未实现盈亏 <i class="fas fa-sort sort-icon"></i></th>
                        <th class="sortable">总已实现盈亏 <i class="fas fa-sort sort-icon"></i></th>
                        <th class="sortable">当前合约账户余额<br>（未实现盈亏和当前占用的保证金） <i class="fas fa-sort sort-icon"></i></th>
                        <th class="sortable">合约持仓比例<br>（开仓总保证金/当前合约账户总余额） <i class="fas fa-sort sort-icon"></i></th>
                        <th>用户总入金<br>（包含法币）</th>
                        <th>用户总出金<br>（包含法币）</th>
                        <th>用户净入金<br>（包含法币）</th>
                    </tr>
                </thead>
                <tbody>
                    <!-- 用户1 -->
                    <tr class="user-row" onclick="toggleDetail(this)" data-section="mainstream"
                        data-contract="BTC/USDT">
                        <td><i class="fas fa-chevron-right expand-btn"></i></td>
                        <td class="rank">1</td>
                        <td class="uid">81072943</td>
                        <td>BTC/USDT</td>
                        <td>32,833.33</td>
                        <td>620,000</td>
                        <td class="val-neg">-115,724</td>
                        <td class="val-pos">+4,500</td>
                        <td>3,088,846.86</td>
                        <td>0.067</td>
                        <td>500,000</td>
                        <td>0</td>
                        <td>500,000</td>
                    </tr>
                    <tr class="detail-row">
                        <td colspan="13">
                            <div class="detail-content">
                                <!-- 持仓中 -->
                                <div class="detail-section">
                                    <div class="detail-section-title">
                                        <span class="badge badge-open">持仓中</span> 2笔持仓
                                    </div>
                                    <table class="detail-table">
                                        <thead>
                                            <tr>
                                                <th>合约名称</th>
                                                <th>开仓时间</th>
                                                <th>加减仓时间</th>
                                                <th>全仓/逐仓</th>
                                                <th>方向</th>
                                                <th>开仓保证金</th>
                                                <th>追加保证金</th>
                                                <th>杠杆</th>
                                                <th>仓位价值</th>
                                                <th>止盈价/止盈数量</th>
                                                <th>止损价/止损数量</th>
                                                <th>预估爆仓价</th>
                                                <th>总未实现盈亏</th>
                                            </tr>
                                        </thead>
                                        <tbody>
                                            <tr>
                                                <td><strong>BTC/USDT</strong></td>
                                                <td>2025-08-14 20:41</td>
                                                <td>--</td>
                                                <td>全仓</td>
                                                <td><span class="badge badge-long">多</span></td>
                                                <td>20,833.33</td>
                                                <td>0</td>
                                                <td>24x</td>
                                                <td>500,000</td>
                                                <td>--</td>
                                                <td>--</td>
                                                <td>15,897</td>
                                                <td class="val-neg">-127,724</td>
                                            </tr>
                                            <tr>
                                                <td><strong>BTC/USDT</strong></td>
                                                <td>2025-08-14 21:00</td>
                                                <td>--</td>
                                                <td>逐仓</td>
                                                <td><span class="badge badge-short">空</span></td>
                                                <td>12,000.00</td>
                                                <td>0</td>
                                                <td>10x</td>
                                                <td>120,000</td>
                                                <td>50,000 / 1.5</td>
                                                <td>65,000 / 1.5</td>
                                                <td>68,000</td>
                                                <td class="val-pos">+12,000</td>
                                            </tr>
                                        </tbody>
                                    </table>
                                </div>
                                <!-- 已平仓 -->
                                <div class="detail-section">
                                    <div class="detail-section-title">
                                        <span class="badge badge-closed">已平仓</span> 1笔平仓记录
                                    </div>
                                    <table class="detail-table">
                                        <thead>
                                            <tr>
                                                <th>合约名称</th>
                                                <th>开仓时间</th>
                                                <th>全仓/逐仓</th>
                                                <th>方向</th>
                                                <th>开仓保证金</th>
                                                <th>杠杆</th>
                                                <th>仓位价值</th>
                                                <th class="th-closed">平仓时间</th>
                                                <th class="th-closed">平仓价格</th>
                                                <th>总已实现盈亏</th>
                                            </tr>
                                        </thead>
                                        <tbody>
                                            <tr>
                                                <td style="color:#999;"><strong>BTC/USDT</strong></td>
                                                <td>2025-08-10 10:00</td>
                                                <td>全仓</td>
                                                <td><span class="badge badge-long">多</span></td>
                                                <td>5,000.00</td>
                                                <td>20x</td>
                                                <td>100,000</td>
                                                <td class="text-closed">2025-08-12 15:30</td>
                                                <td class="text-closed">58,500</td>
                                                <td class="val-pos">+4,500</td>
                                            </tr>
                                        </tbody>
                                    </table>
                                </div>
                            </div>
                        </td>
                    </tr>

                    <!-- 用户2 (展示 Timeline 假数据 User / 使用 SOL) -->
                    <tr class="user-row" onclick="toggleDetail(this)" data-section="innovation"
                        data-contract="SOL/USDT">
                        <td><i class="fas fa-chevron-right expand-btn"></i></td>
                        <td class="rank">2</td>
                        <td class="uid">99283712</td>
                        <td>SOL/USDT</td>
                        <td>12,000.00</td>
                        <td>240,000</td>
                        <td class="val-pos">+52,000</td>
                        <td class="val-neg">-3,200</td>
                        <td>128,846.86</td>
                        <td>0.093</td>
                        <td>100,000</td>
                        <td>20,000</td>
                        <td>80,000</td>
                    </tr>
                    <tr class="detail-row">
                        <td colspan="13">
                            <div class="detail-content">
                                <div class="detail-section">
                                    <div class="detail-section-title">
                                        <span class="badge badge-open">持仓中</span> 1笔持仓
                                    </div>
                                    <table class="detail-table">
                                        <thead>
                                            <tr>
                                                <th>合约名称</th>
                                                <th>开仓时间</th>
                                                <th>加减仓时间</th>
                                                <th>全仓/逐仓</th>
                                                <th>方向</th>
                                                <th>开仓保证金</th>
                                                <th>追加保证金</th>
                                                <th>开仓均价</th>
                                                <th>当前价格</th>
                                                <th>杠杆</th>
                                                <th>仓位价值</th>
                                                <th>止盈价/止盈数量</th>
                                                <th>止损价/止损数量</th>
                                                <th>预估爆仓价</th>
                                                <th>未实现盈亏</th>
                                            </tr>
                                        </thead>
                                        <tbody>
                                            <tr>
                                                <td><strong>SOL/USDT</strong></td>
                                                <td>2025-08-18 10:20</td>
                                                <td>--</td>
                                                <td>逐仓</td>
                                                <td><span class="badge badge-long">多</span></td>
                                                <td>12,000.00</td>
                                                <td>0</td>
                                                <td>145.00</td>
                                                <td>158.00</td>
                                                <td>20x</td>
                                                <td>240,000</td>
                                                <td>180.00 / 1000</td>
                                                <td>130.00 / 1000</td>
                                                <td>138.50</td>
                                                <td class="val-pos">+52,000</td>
                                            </tr>
                                        </tbody>
                                    </table>
                                </div>
                                <div class="detail-section">
                                    <div class="detail-section-title">
                                        <span class="badge badge-closed">已平仓</span> 1笔平仓记录
                                    </div>
                                    <table class="detail-table">
                                        <thead>
                                            <tr>
                                                <th>合约名称</th>
                                                <th>开仓时间</th>
                                                <th>全仓/逐仓</th>
                                                <th>方向</th>
                                                <th>开仓保证金</th>
                                                <th>杠杆</th>
                                                <th>仓位价值</th>
                                                <th class="th-closed">平仓时间</th>
                                                <th class="th-closed">平仓价格</th>
                                                <th>已实现盈亏</th>
                                            </tr>
                                        </thead>
                                        <tbody>
                                            <tr>
                                                <td style="color:#999;"><strong>SOL/USDT</strong></td>
                                                <td>2025-08-17 09:00</td>
                                                <td>逐仓</td>
                                                <td><span class="badge badge-long">多</span></td>
                                                <td>5,000.00</td>
                                                <td>20x</td>
                                                <td>100,000</td>
                                                <td class="text-closed">2025-08-17 11:30</td>
                                                <td class="text-closed">139.50</td>
                                                <td class="val-neg">-3,200</td>
                                            </tr>
                                        </tbody>
                                    </table>
                                </div>
                            </div>
                        </td>
                    </tr>

                    <!-- 用户1 的第二条数据 (同UID, 不同币对 ETH/USDT) -->
                    <tr class="user-row" onclick="toggleDetail(this)" data-section="mainstream"
                        data-contract="ETH/USDT">
                        <td><i class="fas fa-chevron-right expand-btn"></i></td>
                        <td class="rank">3</td>
                        <td class="uid">81072943</td> <!-- 相同的 UID -->
                        <td>ETH/USDT</td> <!-- 不同的币对 -->
                        <td>5,000.00</td>
                        <td>50,000</td>
                        <td class="val-neg">-1,200</td>
                        <td class="val-pos">+800</td>
                        <td>3,088,846.86</td>
                        <td>0.002</td>
                        <td>500,000</td>
                        <td>0</td>
                        <td>500,000</td>
                    </tr>
                    <tr class="detail-row">
                        <td colspan="13">
                            <div class="detail-content">
                                <div class="detail-section">
                                    <div class="detail-section-title">
                                        <span class="badge badge-open">持仓中</span> 1笔持仓
                                    </div>
                                    <table class="detail-table">
                                        <thead>
                                            <tr>
                                                <th>合约名称</th>
                                                <th>开仓时间</th>
                                                <th>加减仓时间</th>
                                                <th>全仓/逐仓</th>
                                                <th>方向</th>
                                                <th>开仓保证金</th>
                                                <th>追加保证金</th>
                                                <th>开仓均价</th>
                                                <th>当前价格</th>
                                                <th>杠杆</th>
                                                <th>仓位价值</th>
                                                <th>止盈价/止盈数量</th>
                                                <th>止损价/止损数量</th>
                                                <th>预估爆仓价</th>
                                                <th>未实现盈亏</th>
                                            </tr>
                                        </thead>
                                        <tbody>
                                            <tr>
                                                <td><strong>ETH/USDT</strong></td>
                                                <td>2025-08-16 09:30</td>
                                                <td>--</td>
                                                <td>全仓</td>
                                                <td><span class="badge badge-short">空</span></td>
                                                <td>5,000.00</td>
                                                <td>0</td>
                                                <td>3,200</td>
                                                <td>3,250</td>
                                                <td>10x</td>
                                                <td>50,000</td>
                                                <td>3,000 / 10</td>
                                                <td>3,300 / 10</td>
                                                <td>3,500</td>
                                                <td class="val-neg">-1,200</td>
                                            </tr>
                                        </tbody>
                                    </table>
                                </div>
                                <!-- User 1 ETH Closed Positions -->
                                <div class="detail-section">
                                    <div class="detail-section-title">
                                        <span class="badge badge-closed">已平仓</span> 1笔平仓记录
                                    </div>
                                    <table class="detail-table">
                                        <thead>
                                            <tr>
                                                <th>合约名称</th>
                                                <th>开仓时间</th>
                                                <th>全仓/逐仓</th>
                                                <th>方向</th>
                                                <th>开仓保证金</th>
                                                <th>杠杆</th>
                                                <th>仓位价值</th>
                                                <th class="th-closed">平仓时间</th>
                                                <th class="th-closed">平仓价格</th>
                                                <th>已实现盈亏</th>
                                            </tr>
                                        </thead>
                                        <tbody>
                                            <tr>
                                                <td style="color:#999;"><strong>ETH/USDT</strong></td>
                                                <td>2025-08-15 14:00</td>
                                                <td>全仓</td>
                                                <td><span class="badge badge-short">空</span></td>
                                                <td>2,000.00</td>
                                                <td>10x</td>
                                                <td>20,000</td>
                                                <td class="text-closed">2025-08-15 18:00</td>
                                                <td class="text-closed">3,080</td>
                                                <td class="val-pos">+800</td>
                                            </tr>
                                        </tbody>
                                    </table>
                                </div>
                            </div>
                        </td>
                    </tr>
                    <!-- 用户2 (原排名4) -->
                    <tr class="user-row" onclick="toggleDetail(this)" data-section="mainstream"
                        data-contract="BTC/USDT">
                        <td><i class="fas fa-chevron-right expand-btn"></i></td>
                        <td class="rank">4</td>
                        <td class="uid">90869549</td>
                        <td>BTC/USDT</td>
                        <td>12,848.85</td>
                        <td>642,442</td>
                        <td class="val-pos">+932,650</td>
                        <td class="val-pos">+50,000</td>
                        <td>5,050,000.00</td>
                        <td>0.014</td>
                        <td>5,050,000</td>
                        <td>0</td>
                        <td>5,050,000</td>
                    </tr>
                    <tr class="detail-row">
                        <td colspan="13">
                            <div class="detail-content">
                                <div class="detail-section">
                                    <div class="detail-section-title">
                                        <span class="badge badge-open">持仓中</span> 1笔持仓
                                    </div>
                                    <table class="detail-table">
                                        <thead>
                                            <tr>
                                                <th>合约名称</th>
                                                <th>开仓时间</th>
                                                <th>加减仓时间</th>
                                                <th>全仓/逐仓</th>
                                                <th>方向</th>
                                                <th>开仓保证金</th>
                                                <th>追加保证金</th>
                                                <th>杠杆</th>
                                                <th>仓位价值</th>
                                                <th>止盈价/止盈数量</th>
                                                <th>止损价/止损数量</th>
                                                <th>预估爆仓价</th>
                                                <th>总未实现盈亏</th>
                                            </tr>
                                        </thead>
                                        <tbody>
                                            <tr>
                                                <td><strong>BTC/USDT</strong></td>
                                                <td>2025-08-04 17:40</td>
                                                <td>--</td>
                                                <td>全仓</td>
                                                <td><span class="badge badge-short">空</span></td>
                                                <td>12,848.85</td>
                                                <td>0</td>
                                                <td>50x</td>
                                                <td>642,442</td>
                                                <td>--</td>
                                                <td>--</td>
                                                <td>--</td>
                                                <td class="val-pos">+932,650</td>
                                            </tr>
                                        </tbody>
                                    </table>
                                </div>
                                <div class="detail-section">
                                    <div class="detail-section-title">
                                        <span class="badge badge-closed">已平仓</span> 1笔平仓记录
                                    </div>
                                    <table class="detail-table">
                                        <thead>
                                            <tr>
                                                <th>合约名称</th>
                                                <th>开仓时间</th>
                                                <th>全仓/逐仓</th>
                                                <th>方向</th>
                                                <th>开仓保证金</th>
                                                <th>杠杆</th>
                                                <th>仓位价值</th>
                                                <th class="th-closed">平仓时间</th>
                                                <th class="th-closed">平仓价格</th>
                                                <th>总已实现盈亏</th>
                                            </tr>
                                        </thead>
                                        <tbody>
                                            <tr>
                                                <td style="color:#999;"><strong>BTC/USDT</strong></td>
                                                <td>2025-08-01 10:00</td>
                                                <td>全仓</td>
                                                <td><span class="badge badge-long">多</span></td>
                                                <td>500.00</td>
                                                <td>20x</td>
                                                <td>10,000</td>
                                                <td class="text-closed">2025-08-02 10:00</td>
                                                <td class="text-closed">58,000</td>
                                                <td class="val-pos">+50,000</td>
                                            </tr>
                                        </tbody>
                                    </table>
                                </div>
                            </div>
                        </td>
                    </tr>

                    <!-- 用户3 -->
                    <tr class="user-row" onclick="toggleDetail(this)">
                        <td><i class="fas fa-chevron-right expand-btn"></i></td>
                        <td class="rank">3</td>
                        <td class="uid">11223344</td>
                        <td>BTC/USDT</td>
                        <td>100,000.00</td>
                        <td>200,000</td>
                        <td class="val-neg">-500</td>
                        <td class="val-neg">-1,000</td>
                        <td>200,000.00</td>
                        <td>0.500</td>
                        <td>200,000</td>
                        <td>0</td>
                        <td>200,000</td>
                    </tr>
                    <tr class="detail-row">
                        <td colspan="13">
                            <div class="detail-content">
                                <div class="detail-section">
                                    <div class="detail-section-title">
                                        <span class="badge badge-open">持仓中</span> 1笔持仓
                                    </div>
                                    <table class="detail-table">
                                        <thead>
                                            <tr>
                                                <th>合约名称</th>
                                                <th>开仓时间</th>
                                                <th>加减仓时间</th>
                                                <th>全仓/逐仓</th>
                                                <th>方向</th>
                                                <th>开仓保证金</th>
                                                <th>追加保证金</th>
                                                <th>杠杆</th>
                                                <th>仓位价值</th>
                                                <th>止盈价/止盈数量</th>
                                                <th>止损价/止损数量</th>
                                                <th>预估爆仓价</th>
                                                <th>总未实现盈亏</th>
                                            </tr>
                                        </thead>
                                        <tbody>
                                            <tr>
                                                <td><strong>BTC/USDT</strong></td>
                                                <td>2025-08-14 20:41</td>
                                                <td>--</td>
                                                <td>全仓</td>
                                                <td><span class="badge badge-long">多</span></td>
                                                <td>100,000</td>
                                                <td>0</td>
                                                <td>2x</td>
                                                <td>200,000</td>
                                                <td>--</td>
                                                <td>--</td>
                                                <td>25,000</td>
                                                <td class="val-neg">-500</td>
                                            </tr>
                                        </tbody>
                                    </table>
                                </div>
                                <div class="detail-section">
                                    <div class="detail-section-title">
                                        <span class="badge badge-closed">已平仓</span> 1笔平仓记录
                                    </div>
                                    <table class="detail-table">
                                        <thead>
                                            <tr>
                                                <th>合约名称</th>
                                                <th>开仓时间</th>
                                                <th>全仓/逐仓</th>
                                                <th>方向</th>
                                                <th>开仓保证金</th>
                                                <th>杠杆</th>
                                                <th>仓位价值</th>
                                                <th class="th-closed">平仓时间</th>
                                                <th class="th-closed">平仓价格</th>
                                                <th>总已实现盈亏</th>
                                            </tr>
                                        </thead>
                                        <tbody>
                                            <tr>
                                                <td style="color:#999;"><strong>BTC/USDT</strong></td>
                                                <td>2025-08-14 10:00</td>
                                                <td>逐仓</td>
                                                <td><span class="badge badge-short">空</span></td>
                                                <td>2,800</td>
                                                <td>10x</td>
                                                <td>28,000</td>
                                                <td class="text-closed">2025-08-14 12:00</td>
                                                <td class="text-closed">57,500</td>
                                                <td class="val-neg">-1,000</td>
                                            </tr>
                                        </tbody>
                                    </table>
                                </div>
                            </div>
                        </td>
                    </tr>

                    <!-- 用户4 -->
                    <tr class="user-row" onclick="toggleDetail(this)">
                        <td><i class="fas fa-chevron-right expand-btn"></i></td>
                        <td class="rank">4</td>
                        <td class="uid">55667788</td>
                        <td>BTC/USDT</td>
                        <td>0</td>
                        <td>0</td>
                        <td>--</td>
                        <td class="val-pos">+8,000</td>
                        <td>108,000.00</td>
                        <td>0</td>
                        <td>100,000</td>
                        <td>0</td>
                        <td>100,000</td>
                    </tr>
                    <tr class="detail-row">
                        <td colspan="13">
                            <div class="detail-content">
                                <div class="detail-section">
                                    <div class="detail-section-title">
                                        <span class="badge badge-open">持仓中</span>
                                    </div>
                                    <div class="no-data">暂无持仓记录</div>
                                </div>
                                <div class="detail-section">
                                    <div class="detail-section-title">
                                        <span class="badge badge-closed">已平仓</span> 2笔平仓记录
                                    </div>
                                    <table class="detail-table">
                                        <thead>
                                            <tr>
                                                <th>合约名称</th>
                                                <th>开仓时间</th>
                                                <th>全仓/逐仓</th>
                                                <th>方向</th>
                                                <th>开仓保证金</th>
                                                <th>杠杆</th>
                                                <th>仓位价值</th>
                                                <th class="th-closed">平仓时间</th>
                                                <th class="th-closed">平仓价格</th>
                                                <th>总已实现盈亏</th>
                                            </tr>
                                        </thead>
                                        <tbody>
                                            <tr>
                                                <td style="color:#999;"><strong>BTC/USDT</strong></td>
                                                <td>2025-08-10 09:00</td>
                                                <td>全仓</td>
                                                <td><span class="badge badge-long">多</span></td>
                                                <td>5,000</td>
                                                <td>10x</td>
                                                <td>50,000</td>
                                                <td class="text-closed">2025-08-11 14:00</td>
                                                <td class="text-closed">59,000</td>
                                                <td class="val-pos">+5,000</td>
                                            </tr>
                                            <tr>
                                                <td style="color:#999;"><strong>BTC/USDT</strong></td>
                                                <td>2025-08-12 10:00</td>
                                                <td>全仓</td>
                                                <td><span class="badge badge-long">多</span></td>
                                                <td>3,000</td>
                                                <td>10x</td>
                                                <td>30,000</td>
                                                <td class="text-closed">2025-08-13 16:00</td>
                                                <td class="text-closed">58,800</td>
                                                <td class="val-pos">+3,000</td>
                                            </tr>
                                        </tbody>
                                    </table>
                                </div>
                            </div>
                        </td>
                    </tr>
                </tbody>
            </table>
        </div>
    </div>

    <script>
        // 展开/收起详情
        function toggleDetail(row) {
            const expandBtn = row.querySelector('.expand-btn');
            const detailRow = row.nextElementSibling;

            if (detailRow && detailRow.classList.contains('detail-row')) {
                expandBtn.classList.toggle('open');
                detailRow.classList.toggle('open');
            }
        }

        // 初始化时间选择下拉框 (每15分钟一档)
        function initTimeOptions() {
            const startSelect = document.getElementById('startTimeSelect');
            const endSelect = document.getElementById('endTimeSelect');

            for (let h = 0; h < 24; h++) {
                for (let m = 0; m < 60; m += 15) {
                    const hour = h.toString().padStart(2, '0');
                    const minute = m.toString().padStart(2, '0');
                    const time = `${hour}:${minute}`;

                    // 开始时间选项
                    const startOption = document.createElement('option');
                    startOption.value = time;
                    startOption.textContent = time;
                    startSelect.appendChild(startOption);

                    // 截止时间选项
                    const endOption = document.createElement('option');
                    endOption.value = time;
                    endOption.textContent = time;
                    endSelect.appendChild(endOption);
                }
            }
        }

        // 排序功能（示例）
        document.querySelectorAll('.ranking-table th.sortable').forEach(th => {
            th.addEventListener('click', function (e) {
                e.stopPropagation();
                document.querySelectorAll('.ranking-table th.sortable').forEach(t => {
                    if (t !== this) {
                        t.classList.remove('sorted-asc', 'sorted-desc');
                        t.querySelector('.sort-icon').className = 'fas fa-sort sort-icon';
                    }
                });
                const icon = this.querySelector('.sort-icon');
                if (this.classList.contains('sorted-asc')) {
                    this.classList.remove('sorted-asc');
                    this.classList.add('sorted-desc');
                    icon.className = 'fas fa-sort-down sort-icon';
                } else if (this.classList.contains('sorted-desc')) {
                    this.classList.remove('sorted-desc');
                    icon.className = 'fas fa-sort sort-icon';
                } else {
                    this.classList.add('sorted-asc');
                    icon.className = 'fas fa-sort-up sort-icon';
                }
            });
        });

        // 初始化
        initTimeOptions();
    </script>

    <!-- jQuery (required for Select2) -->
    <script src="https://cdn.jsdelivr.net/npm/jquery@3.6.0/dist/jquery.min.js"></script>
    <!-- Select2 JS -->
    <script src="https://cdn.jsdelivr.net/npm/select2@4.1.0-rc.0/dist/js/select2.min.js"></script>
    <script>
        $(document).ready(function () {
            // Initialize Select2 on contract dropdown
            $('#contractSelect').select2({
                placeholder: '请选择',
                allowClear: false,
                width: '180px',
                language: {
                    noResults: function () {
                        return '未找到匹配合约';
                    }
                }
            });

            // Trigger filter when Select2 value changes
            $('#contractSelect').on('change', function () {
                filterTable();
            });

            // Re-initialize Select2 after updating options
            const originalUpdateContractOptions = window.updateContractOptions;
            window.updateContractOptions = function () {
                originalUpdateContractOptions();
                $('#contractSelect').trigger('change.select2');
            };
        });
    </script>

    <!-- ========== 产品说明文档 ========== -->
    <div class="main-card" style="margin-top: 40px; border-top: 3px solid #1890ff;">
        <h2 style="font-size: 18px; font-weight: 600; margin-bottom: 24px; color: #1890ff;">
            <i class="fas fa-book" style="margin-right: 8px;"></i>
            产品说明文档
        </h2>

        <!-- 一、筛选项说明 -->
        <div style="margin-bottom: 32px;">
            <h3
                style="font-size: 15px; font-weight: 600; margin-bottom: 16px; padding-bottom: 8px; border-bottom: 1px solid #e8e8e8;">
                <span style="color: #1890ff; margin-right: 8px;">一、</span>筛选项说明
            </h3>
            <table style="width: 100%; border-collapse: collapse; font-size: 13px;">
                <thead>
                    <tr style="background: #fafafa;">
                        <th style="padding: 12px; text-align: left; border: 1px solid #e8e8e8; width: 120px;">筛选项</th>
                        <th style="padding: 12px; text-align: left; border: 1px solid #e8e8e8; width: 200px;">选项/格式</th>
                        <th style="padding: 12px; text-align: left; border: 1px solid #e8e8e8;">说明</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td style="padding: 12px; border: 1px solid #e8e8e8; font-weight: 500;">币种板块</td>
                        <td style="padding: 12px; border: 1px solid #e8e8e8;">全部板块 / 主流币 / 项目币</td>
                        <td style="padding: 12px; border: 1px solid #e8e8e8;">按板块筛选合约，板块分类以后台配置为准。默认选中「项目币」</td>
                    </tr>
                    <tr>
                        <td style="padding: 12px; border: 1px solid #e8e8e8; font-weight: 500;">合约名称</td>
                        <td style="padding: 12px; border: 1px solid #e8e8e8;">下拉选择，支持搜索</td>
                        <td style="padding: 12px; border: 1px solid #e8e8e8;">选择具体的合约交易对。选择板块后显示「全部主流币」或「全部项目币」选项</td>
                    </tr>
                    <tr>
                        <td style="padding: 12px; border: 1px solid #e8e8e8; font-weight: 500;">用户UID</td>
                        <td style="padding: 12px; border: 1px solid #e8e8e8;">文本输入</td>
                        <td style="padding: 12px; border: 1px solid #e8e8e8;">输入用户UID进行精确查询</td>
                    </tr>
                    <tr>
                        <td style="padding: 12px; border: 1px solid #e8e8e8; font-weight: 500;">用户类型</td>
                        <td style="padding: 12px; border: 1px solid #e8e8e8;">普通用户 / 内部用户 / 代理用户</td>
                        <td style="padding: 12px; border: 1px solid #e8e8e8;">按用户类型筛选数据。汇总统计数据仅包含普通用户</td>
                    </tr>
                    <tr>
                        <td style="padding: 12px; border: 1px solid #e8e8e8; font-weight: 500;">仅显示异常 UID</td>
                        <td style="padding: 12px; border: 1px solid #e8e8e8;">复选框</td>
                        <td style="padding: 12px; border: 1px solid #e8e8e8;">勾选后仅显示异常 UID 数据。异常 UID 以<span
                                style="color: #ff4d4f; font-weight: 600;">红色</span>高亮显示，列表从后台配置获取</td>
                    </tr>
                    <tr>
                        <td style="padding: 12px; border: 1px solid #e8e8e8; font-weight: 500;">时间范围</td>
                        <td style="padding: 12px; border: 1px solid #e8e8e8;">日期 + 开始时间 + 结束时间</td>
                        <td style="padding: 12px; border: 1px solid #e8e8e8;">
                            筛选指定时间范围内的数据。时间选择器每15分钟一档。<strong>筛选逻辑</strong>：显示范围内开仓、平仓或持仓中的所有记录。<strong>时间边界</strong>：含起始时间，不含结束时间（左闭右开）
                        </td>
                    </tr>
                </tbody>
            </table>
        </div>


        <!-- 二、列表字段说明 -->
        <div style="margin-bottom: 32px;">
            <h3
                style="font-size: 15px; font-weight: 600; margin-bottom: 16px; padding-bottom: 8px; border-bottom: 1px solid #e8e8e8;">
                <span style="color: #1890ff; margin-right: 8px;">二、</span>列表字段说明
            </h3>

            <h4 style="font-size: 14px; font-weight: 500; margin: 16px 0 12px 0; color: #666;"><i class="fas fa-table"
                    style="margin-right: 6px;"></i>主表字段</h4>
            <p style="font-size: 13px; color: #333; margin-bottom: 8px;">
                <strong>字段：</strong>序号、用户UID、合约名称、开仓保证金、总仓位价值、总未实现盈亏、总已实现盈亏、当前合约账户余额、合约持仓比例、用户总入金、用户总出金、用户净入金
            </p>
            <p style="font-size: 13px; color: #666; margin-bottom: 16px;">
                <strong>可排序字段：</strong>开仓保证金、总仓位价值（默认降序）、总未实现盈亏、总已实现盈亏、当前合约账户余额、合约持仓比例
            </p>

            <h4 style="font-size: 14px; font-weight: 500; margin: 24px 0 12px 0; color: #666;"><i
                    class="fas fa-list-alt" style="margin-right: 6px;"></i>展开详情 - 持仓中</h4>
            <p style="font-size: 13px; color: #333; margin-bottom: 16px;">
                <strong>字段：</strong>合约名称、开仓时间、加减仓时间、全仓/逐仓、方向、开仓保证金、追加保证金、杠杆、仓位价值、止盈价/止盈数量、止损价/止损数量、预估爆仓价、总未实现盈亏
            </p>

            <h4 style="font-size: 14px; font-weight: 500; margin: 24px 0 12px 0; color: #ff4d4f;"><i
                    class="fas fa-history" style="margin-right: 6px;"></i>展开详情 - 已平仓 <span
                    style="background: #ff4d4f; color: #fff; font-size: 11px; padding: 2px 6px; border-radius: 3px; margin-left: 8px;">新增</span>
            </h4>
            <p style="font-size: 13px; color: #ff4d4f; margin-bottom: 8px;">
                <strong>字段：</strong>合约名称、开仓时间、全仓/逐仓、方向、开仓保证金、杠杆、仓位价值、平仓时间、平仓价格、总已实现盈亏
            </p>
        </div>

        <!-- 四、样式说明 -->
        <div style="margin-bottom: 32px;">
            <h3
                style="font-size: 15px; font-weight: 600; margin-bottom: 16px; padding-bottom: 8px; border-bottom: 1px solid #e8e8e8;">
                <span style="color: #1890ff; margin-right: 8px;">三、</span>样式与交互说明
            </h3>
            <table style="width: 100%; border-collapse: collapse; font-size: 13px;">
                <thead>
                    <tr style="background: #fafafa;">
                        <th style="padding: 12px; text-align: left; border: 1px solid #e8e8e8; width: 180px;">样式/交互</th>
                        <th style="padding: 12px; text-align: left; border: 1px solid #e8e8e8;">说明</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td style="padding: 12px; border: 1px solid #e8e8e8; font-weight: 500;"><span
                                style="color: #52c41a;">绿色数值</span></td>
                        <td style="padding: 12px; border: 1px solid #e8e8e8;">表示正数盈亏（盈利）</td>
                    </tr>
                    <tr>
                        <td style="padding: 12px; border: 1px solid #e8e8e8; font-weight: 500;"><span
                                style="color: #ff4d4f;">红色数值</span></td>
                        <td style="padding: 12px; border: 1px solid #e8e8e8;">表示负数盈亏（亏损）或异常 UID</td>
                    </tr>
                    <tr>
                        <td style="padding: 12px; border: 1px solid #e8e8e8; font-weight: 500;"><span
                                style="background:#e6f7ff;color:#1890ff;padding:2px 6px;border-radius:3px;">多</span>
                        </td>
                        <td style="padding: 12px; border: 1px solid #e8e8e8;">做多方向标签（蓝色背景）</td>
                    </tr>
                    <tr>
                        <td style="padding: 12px; border: 1px solid #e8e8e8; font-weight: 500;"><span
                                style="background:#fff1f0;color:#ff4d4f;padding:2px 6px;border-radius:3px;">空</span>
                        </td>
                        <td style="padding: 12px; border: 1px solid #e8e8e8;">做空方向标签（红色背景）</td>
                    </tr>
                    <tr>
                        <td style="padding: 12px; border: 1px solid #e8e8e8; font-weight: 500;"><span
                                style="background:#e6f7ff;color:#1890ff;padding:2px 6px;border-radius:3px;font-size:12px;">持仓中</span>
                        </td>
                        <td style="padding: 12px; border: 1px solid #e8e8e8;">当前仍在持仓的记录标签</td>
                    </tr>
                    <tr>
                        <td style="padding: 12px; border: 1px solid #e8e8e8; font-weight: 500;"><span
                                style="background:#f5f5f5;color:#8c8c8c;padding:2px 6px;border-radius:3px;font-size:12px;">已平仓</span>
                        </td>
                        <td style="padding: 12px; border: 1px solid #e8e8e8;">已平仓的历史记录标签（灰色背景）</td>
                    </tr>
                    <tr>
                        <td style="padding: 12px; border: 1px solid #e8e8e8; font-weight: 500;">展开/收起</td>
                        <td style="padding: 12px; border: 1px solid #e8e8e8;">点击主表行可展开/收起该用户的持仓明细</td>
                    </tr>
                    <tr>
                        <td style="padding: 12px; border: 1px solid #e8e8e8; font-weight: 500;">排序</td>
                        <td style="padding: 12px; border: 1px solid #e8e8e8;">点击表头带有排序图标的列可进行升序/降序排列</td>
                    </tr>
                </tbody>
            </table>
        </div>

        <!-- 五、操作按钮说明 -->
        <div style="margin-bottom: 16px;">
            <h3
                style="font-size: 15px; font-weight: 600; margin-bottom: 16px; padding-bottom: 8px; border-bottom: 1px solid #e8e8e8;">
                <span style="color: #1890ff; margin-right: 8px;">四、</span>操作按钮说明
            </h3>
            <table style="width: 100%; border-collapse: collapse; font-size: 13px;">
                <thead>
                    <tr style="background: #fafafa;">
                        <th style="padding: 12px; text-align: left; border: 1px solid #e8e8e8; width: 120px;">按钮</th>
                        <th style="padding: 12px; text-align: left; border: 1px solid #e8e8e8;">功能说明</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td style="padding: 12px; border: 1px solid #e8e8e8; font-weight: 500;"><span
                                style="background:#1890ff;color:#fff;padding:4px 12px;border-radius:4px;font-size:12px;"><i
                                    class="fas fa-search"></i> 搜索</span></td>
                        <td style="padding: 12px; border: 1px solid #e8e8e8;">根据当前筛选条件查询数据</td>
                    </tr>
                    <tr>
                        <td style="padding: 12px; border: 1px solid #e8e8e8; font-weight: 500;"><span
                                style="background:#fff;color:#666;padding:4px 12px;border-radius:4px;border:1px solid #d9d9d9;font-size:12px;"><i
                                    class="fas fa-sync-alt"></i> 重置</span></td>
                        <td style="padding: 12px; border: 1px solid #e8e8e8;">清空所有筛选条件，恢复默认值</td>
                    </tr>
                    <tr>
                        <td style="padding: 12px; border: 1px solid #e8e8e8; font-weight: 500;"><span
                                style="background:#fff;color:#666;padding:4px 12px;border-radius:4px;border:1px solid #d9d9d9;font-size:12px;"><i
                                    class="fas fa-download"></i> 导出</span></td>
                        <td style="padding: 12px; border: 1px solid #e8e8e8;">将当前筛选结果导出为 Excel 文件</td>
                    </tr>
                </tbody>
            </table>
        </div>
    </div>

</body>

</html>